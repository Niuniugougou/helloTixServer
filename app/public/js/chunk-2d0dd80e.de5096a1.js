(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0dd80e"],{8253:function(e,r,t){"use strict";t.r(r);var l=t("9bd2"),o=function(e){return Object(l.a)({url:"/crawler/articleCrawler",method:"post",data:e})},n={name:"articleCrawler",data:function(){return{dialogVisible:!1,interval:null,percent:0,colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],ruleForm:{htmlUrl:"",titleUrl:"",secondTitleUrl:"",contentUrl:""},rules:{htmlUrl:[{required:!0,message:"目标地址不为空",trigger:"blur"}],titleUrl:[{required:!0,message:"标题元素路径不为空",trigger:"blur"}],secondTitleUrl:[{required:!0,message:"副标题元素路径不为空",trigger:"blur"}],contentUrl:[{required:!0,message:"正文元素路径不为空",trigger:"blur"}]}}},mounted:function(){},computed:{color:function(){var e="#2db7f5";return 100==this.percent&&(e="#5cb85c"),e}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return r.$message.error("请填写数据字段。"),!1;r.circleChange(!0),o(r.ruleForm).then(function(e){(e.message||e.errorMsg)&&(r.circleChange(!1),void 0==e.errorMsg?r.$message.success(e.message):r.$message.error(e.errorMsg))})})},circleChange:function(e){var r=this;e?(this.percent=0,this.dialogVisible=!this.dialogVisible,this.interval=setInterval(function(){r.percent>=90?99==r.percent?r.percent=99:r.percent+=1:r.percent+=10},500)):(clearInterval(this.interval),this.interval=null,this.dialogVisible=!1)},resetForm:function(e){this.$refs[e].resetFields()}}},i=t("e90a"),c=function(e){e.options.__source="src/components/webs/ArticleCrawler.vue"},s=Object(i.a)(n,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("d2-container",{staticClass:"table"},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[t("el-form-item",{attrs:{label:"目标地址",prop:"htmlUrl"}},[t("el-input",{model:{value:e.ruleForm.htmlUrl,callback:function(r){e.$set(e.ruleForm,"htmlUrl",r)},expression:"ruleForm.htmlUrl"}})],1),t("el-form-item",{attrs:{label:"标题元素路径",prop:"titleUrl"}},[t("el-input",{model:{value:e.ruleForm.titleUrl,callback:function(r){e.$set(e.ruleForm,"titleUrl",r)},expression:"ruleForm.titleUrl"}})],1),t("el-form-item",{attrs:{label:"副标题元素路径",prop:"secondTitleUrl"}},[t("el-input",{model:{value:e.ruleForm.secondTitleUrl,callback:function(r){e.$set(e.ruleForm,"secondTitleUrl",r)},expression:"ruleForm.secondTitleUrl"}})],1),t("el-form-item",{attrs:{label:"正文元素路径",prop:"contentUrl"}},[t("el-input",{model:{value:e.ruleForm.contentUrl,callback:function(r){e.$set(e.ruleForm,"contentUrl",r)},expression:"ruleForm.contentUrl"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("开始")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),t("el-dialog",{staticStyle:{"text-align":"center"},attrs:{visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(r){e.dialogVisible=r}}},[t("el-progress",{attrs:{type:"circle",percentage:e.percent,color:e.colors}})],1)],1)},[],!1,null,"0c69a944",null);"function"==typeof c&&c(s);r.default=s.exports}}]);